## 7.1.适配器模式
适配器模式提供了一种代码重用的方案，即将已有的代码适配或者包装到一些新接口中，而这些接口是在最初设计代码的时候没有考虑到的。

适配器通常用于处理遗留代码，通过包装现有代码，使其适配新代码的接口，就可以立即访问旧的，已经过测试的功能。该模式可以使用多继承的
方式实现，例如实现Java 8 中的默认接口，也可以使用旧对象成为类属性的组合来实现。适配器模式也被称为包装器。

### 目的&实现
采用适配器模式的目的是将现有的旧接口转换成新的客户端接口，我们的目标是尽可能多地重用原来已经测试过的代码，并且可以对新接口自由地
进行修改。

是撇弃模式通常使用多重继承的方式在其他语言中实现，一定程度上可以从Java 8开始实现。但在这里我们使用的是另一种方法-聚合法，它适用于
较旧的Java版本，同时比继承更具限制性，因为我们的例子不会访问受保护的内容，只访问适配器公共接口。

如下UML类图模拟了新客户端代码与适配器客户端代码之间的交互。

![适配器模式](/src/main/resources/image/designpattern/structuralpattern/3-1.png)

从实现图中我们可以看到适配器模式包含以下元素：
- Client：代码客户端。
- Adapter：将调用转发给Adaptee的适配器类。
- Adaptee：需要适配的旧代码。
- Target：支持的新接口。

[参考代码](AdapterPatternTest.java)

### 总结
- 优点
    1. 可以让任何两个没有关联的类一起运行。 
    2. 提高了类的复用。 
    3. 增加了类的透明度。 
    4. 灵活性好。

- 缺点
    1. 过多地使用适配器，会让系统非常零乱，不易整体进行把握。比如，明明看到调用的是 A 接口，其实内部被适配成了 B 接口的实现，一
    个系统如果太多出现这种情况，无异于一场灾难。因此如果不是很有必要，可以不使用适配器，而是直接对系统进行重构。 
    2. 由于 JAVA 至多继承一个类，所以至多只能适配一个适配者类，而且目标类必须是抽象类。

